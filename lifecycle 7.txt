package threadDemo.java;

class Thread1 extends Thread
{
	Object lock;
	Thread1(Object lock)
	{
		this.lock=lock;
	}
	
	public void run()
	{
	try
	{
		synchronized(lock)
		{
			for(int i=0;i<=5;i++)
			{
				System.out.println("Thread 1 is executing:"+ i+ " "+this.getState());
				Thread.sleep(2000);
				
				if(i==3)
				{ 
					System.out.println("Thread1 is going to wait");
					lock.wait();
					System.out.println("Thread1 is resuming");
				}
			}
		}
		
	}
	catch(InterruptedException e)
	{
		System.out.println("thread1 is interrupted!");
	}
	}
}
class Thread2 extends Thread
{
	
	Object lock;
	Thread2(Object lock)
	{
		this.lock=lock;
	}
	public void run()
	{
		try
		{
			synchronized(lock)
			{
				for(int i=6;i<=15;i++)
				{
					System.out.println("Thread2 is executing" +i+" "+this.getState());
					Thread.sleep(2000);
					
					if(i==7)
					{
						System.out.println("Thread 2 is notifying thread 1 ");
						lock.notify();
					}
					
				}
			}
		}
		catch(InterruptedException e)
		{
			System.out.println("thread2 is interrupted");
		}
	}
	
}
	
public class threadDemo {
     
	 public static void main(String[]args)
	 {
		 
		 Object lock=new Object();
		 
		 Thread1 t1=new Thread1(lock);
		 Thread2 t2=new Thread2(lock);
		 
		 System.out.println(t1.getState());
		 System.out.println(t2.getState());
		 
	
		t1.start();
	
		
    	 t2.start();
		

		 
		 
	 }
}